{% extends "agro_catalog/base.html" %}

{% block title %}Search Results{% endblock %}

{% block content %}
  <h2 class="mb-4">ğŸ” Search Results: "{{ query }}"</h2>

  {% if not culture_results and not disease_results and not drug_results %}
    <div class="alert alert-warning" role="alert">
      Unfortunately, nothing was found in the catalog for the query **"{{ query }}"**.
    </div>
  {% else %}

    <h4 class="mt-4 border-bottom pb-2">ğŸ’Š Drugs ({{ drug_results.count }})</h4>
    {% if drug_results %}
      <div class="list-group mb-4">
        {% for item in drug_results %}
          <a href="{% url 'drug_detail' pk=item.pk %}" class="list-group-item list-group-item-action">
            **{{ item.name }}** (Price: {{ item.price }} grn)
          </a>
        {% endfor %}
      </div>
    {% else %}
      <p>No drugs found.</p>
    {% endif %}

    <h4 class="mt-4 border-bottom pb-2">ğŸ¦  Disease ({{ disease_results.count }})</h4>
    {% if disease_results %}
      <div class="list-group mb-4">
        {% for item in disease_results %}
          <a href="{% url 'disease_detail' pk=item.pk %}" class="list-group-item list-group-item-action">
            **{{ item.name }}** <span class="badge badge-warning">{{ item.get_type_display }}</span>
          </a>
        {% endfor %}
      </div>
    {% else %}
      <p>Diseases not found.</p>
    {% endif %}

    <h4 class="mt-4 border-bottom pb-2">ğŸŒ¾ Cultures ({{ culture_results.count }})</h4>
    {% if culture_results %}
      <div class="list-group mb-4">
        {% for item in culture_results %}
          <a href="{% url 'culture_detail' pk=item.pk %}" class="list-group-item list-group-item-action">
            **{{ item.name }}**
          </a>
        {% endfor %}
      </div>
    {% else %}
      <p>Cultures not found.</p>
    {% endif %}

  {% endif %}

  <a href="{% url 'home' %}" class="btn btn-outline-secondary mt-3">â† Back to home page</a>
{% endblock %}
